repos:
  - repo: local
    hooks:
      # 1. Ruff Linter
      - id: ruff-check
        name: Ruff Fix
        # Change dir to backend, run check on current dir (.)
        entry: uv --directory backend run ruff check --fix .
        language: system
        # Trigger only on python files inside backend/
        files: ^backend/
        types: [python]
        # Important: Stop passing mismatched paths
        pass_filenames: false

      # 2. Ruff Formatter
      - id: ruff-format
        name: Ruff Format
        entry: uv --directory backend run ruff format .
        language: system
        files: ^backend/
        types: [python]
        pass_filenames: false

      # 3. Ty Type Checker
      - id: backend-ty
        name: Type Check (Backend)
        entry: uv --directory backend run ty check
        language: system
        files: ^backend/
        pass_filenames: false
